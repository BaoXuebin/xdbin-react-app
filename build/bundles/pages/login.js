module.exports=__NEXT_REGISTER_PAGE("/login",function(){var e=webpackJsonp([10],{147:function(e,t,n){"use strict";n.d(t,"h",function(){return u});n.d(t,"b",function(){return a});n.d(t,"e",function(){return i});n.d(t,"j",function(){return c});n.d(t,"c",function(){return f});n.d(t,"a",function(){return l});n.d(t,"d",function(){return s});n.d(t,"f",function(){return p});n.d(t,"i",function(){return h});n.d(t,"g",function(){return y});var r=n(163);var o=n(179);var u=function e(t,n){return new Promise(function(e,u){r["a"].fetch(o["n"],{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})}).then(function(t){e(t.result)}).catch(function(e){u(e.error||"未知错误")})})};var a=function e(t){return new Promise(function(e,n){r["a"].authFetch(o["c"],t,{method:"post"}).then(function(t){e(t)}).catch(function(e){n(e.error||"未知错误")})})};var i=function e(t){return new Promise(function(e,n){r["a"].fetch("".concat(o["f"],"?page=").concat(t)).then(function(t){t&&e({blogs:t.content,total:Math.ceil(t.totalElements/t.size),current:t.number+1});n(t)}).catch(function(e){n(e.error||"未知错误")})})};var c=function e(t,n){return new Promise(function(e,u){r["a"].fetch("".concat(o["o"]),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify({blogId:t,type:n})}).then(function(n){var r=n.ifPub;e({blogId:t,ifPub:r})}).catch(function(e){u(e.error||"未知错误")})})};var f=function e(t){return new Promise(function(e,n){r["a"].fetch("".concat(o["d"],"?blogId=").concat(t),{method:"delete"}).then(function(t){e(t)}).catch(function(e){n(e.error||"未知错误")})})};var l=function e(t){return new Promise(function(e,n){r["a"].fetch(o["b"],{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:t})}).then(function(t){e(t)}).catch(function(e){n(e.error||"未知错误")})})};var s=function e(t){return new Promise(function(e,n){r["a"].fetch(o["e"],{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagId:t})}).then(function(t){e(t)}).catch(function(e){n(e.error||"未知错误")})})};var p=function e(t,n){return new Promise(function(e,u){r["a"].authFetch("".concat(o["k"]).concat(n),t).then(function(t){e(t)}).catch(function(e){u(e.error||"未知错误")})})};var h=function e(t){return new Promise(function(e,n){r["a"].fetch(o["a"],{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){e(t)}).catch(function(e){n(e.error||"未知错误")})})};var y=function e(){return new Promise(function(e,t){r["a"].fetch(o["l"]).then(function(t){e(t)}).catch(function(e){t(e.error||"未知错误")})})}},432:function(e,t,n){"use strict";var r=n(21);var o=n.n(r);var u=n(1);var a=n.n(u);var i=n(152);var c=n(408);var f=n(409);var l=n(186);function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var u=e.apply(t,n);function a(e,t){try{var n=u[e](t);var a=n.value}catch(e){o(e);return}n.done?r(a):Promise.resolve(a).then(i,c)}function i(e){a("next",e)}function c(e){a("throw",e)}i()})}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&v(e.prototype,t);n&&v(e,n);return e}function m(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t["a"]=function(e){return Object(i["connect"])(null,null)(function(t){O(n,t);function n(){b(this,n);return m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}d(n,[{key:"render",value:function t(){var n=this.props.global||{};return[a.a.createElement(c["a"],{key:"head",title:n.title||l["a"].title}),a.a.createElement(f["a"],{key:"header",logo:n.logo||null,search:n.search||false}),a.a.createElement(e,this.props)]}}],[{key:"getInitialProps",value:function(){var t=y(o.a.mark(function t(n){var r,u;return o.a.wrap(function t(o){while(1)switch(o.prev=o.next){case 0:r={};n.req;if(!e.getInitialProps){o.next=7;break}o.next=5;return e.getInitialProps(n);case 5:u=o.sent;return o.abrupt("return",p({global:r},u));case 7:return o.abrupt("return",{global:r});case 8:case"end":return o.stop()}},t,this)}));return function e(n){return t.apply(this,arguments)}}()}]);return n}(u["Component"]))}},486:function(e,t,n){"use strict";n.d(t,"a",function(){return u});n.d(t,"c",function(){return i});n.d(t,"b",function(){return c});n.d(t,"d",function(){return f});var r=n(398);var o=n(147);var u={LOGIN:"LOGIN",LOGIN_ERROR:"LOGIN_ERROR",CLEAR_LOGIN_ERROR:"CLEAR_LOGIN_ERROR"};var a=function e(){return{type:u.LOGIN}};var i=function e(t){return{type:u.LOGIN_ERROR,error:t}};var c=function e(){return{type:u.CLEAR_LOGIN_ERROR}};var f=function e(t,n,u){return function(e,c){var f=c(),l=f.loading;if(l)return e(i("登录中，请稍后再试"));e(a());return Object(o["h"])(t,n).then(function(){Object(r["a"])(u||"/mana")}).catch(function(t){return e(i(t))})}}},542:function(e,t,n){"use strict";var r=n(13);var o=n(162);var u=n(486);var a={loading:false,error:null};var i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;var n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u["a"].LOGIN:return Object.assign({},t,{error:null,loading:true});case u["a"].LOGIN_ERROR:return Object.assign({},t,{error:n.error,loading:false});case u["a"].CLEAR_LOGIN_ERROR:return Object.assign({},t,{error:null});default:return t}};var c=i;var f=function e(){return Object(r["createStore"])(c,o["a"])};var l=t["a"]=f},988:function(e,t,n){e.exports=n(989)},989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(21);var o=n.n(r);var u=n(1);var a=n.n(u);var i=n(2);var c=n.n(i);var f=n(159);var l=n.n(f);var s=n(542);var p=n(432);var h=n(152);var y=n(13);var b=n(5);var v=n(186);var d=n(486);function m(e){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function w(e,t,n){t&&O(e.prototype,t);n&&O(e,n);return e}function E(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;return _(e)}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=function(e){P(t,e);function t(e){var n;g(this,t);n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.hanldeLogin=n.hanldeLogin.bind(_(n));return n}w(t,[{key:"hanldeLogin",value:function e(){var t=this.username.inputRef.value;var n=this.password.inputRef.value;t?n?this.props.loginIfNeeded(t,n,this.props.return):this.props.loginError("密码不能为空"):this.props.loginError("用户名不能为空")}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.loading,o=n.error;return a.a.createElement(b["g"],{textAlign:"center",style:{height:"100%",marginTop:"100px"},verticalAlign:"middle"},a.a.createElement(b["g"].Column,{style:{maxWidth:450}},a.a.createElement(b["h"],{as:"h2",color:v["a"].theme,textAlign:"center"},"Log-in to your account"),a.a.createElement(b["f"],{size:"large"},a.a.createElement(b["s"],{stacked:true},a.a.createElement(b["f"].Field,null,a.a.createElement(b["k"],{fluid:true,icon:"user",iconPosition:"left",placeholder:"User name",onFocus:this.props.clearError,ref:function e(n){t.username=n}})),a.a.createElement(b["f"].Field,null,a.a.createElement(b["k"],{fluid:true,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onFocus:this.props.clearError,ref:function e(n){t.password=n}})),a.a.createElement(b["a"],{loading:r,color:v["a"].theme,fluid:true,size:"large",onClick:this.hanldeLogin},"Login"))),o?a.a.createElement(b["p"],{error:true},o):a.a.createElement(b["p"],null,v["a"].defaultTitle)))}}]);return t}(u["PureComponent"]);j.defaultProps={error:null};var R=function e(t){return{loading:t.loading,error:t.error}};var S=function e(t){return{loginError:Object(y["bindActionCreators"])(d["c"],t),clearError:Object(y["bindActionCreators"])(d["b"],t),loginIfNeeded:Object(y["bindActionCreators"])(d["d"],t)}};var I=Object(h["connect"])(R,S)(j);function k(e){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return k(e)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var u=e.apply(t,n);function a(e,t){try{var n=u[e](t);var a=n.value}catch(e){o(e);return}n.done?r(a):Promise.resolve(a).then(i,c)}function i(e){a("next",e)}function c(e){a("throw",e)}i()})}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function x(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e}function T(e,t){if(t&&("object"===k(t)||"function"===typeof t))return t;return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){A(t,e);function t(){N(this,t);return T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}x(t,[{key:"render",value:function e(){return a.a.createElement(I,{return:this.props.global.return})}}],[{key:"getInitialProps",value:function(){var e=L(o.a.mark(function e(t){var n,r;return o.a.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:n=t.query;r={logo:{name:"cloud",text:"用户登录"},title:"用户登录",return:n.r||""};return o.abrupt("return",{global:r});case 3:case"end":return o.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}()}]);return t}(u["Component"]);var J=t["default"]=l()(s["a"],null,null)(Object(p["a"])(F))}},[988]);return{page:e.default}});