webpackJsonp([4],{1099:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=_interopRequireDefault(r);n(1290);var o=n(1292),l=_interopRequireDefault(o),i=n(1295),u=_interopRequireDefault(i),s=n(1299),c=_interopRequireDefault(s),d=function(){return a.default.createElement("div",null,a.default.createElement(l.default,null),a.default.createElement(c.default,null),a.default.createElement(u.default,null))};t.default=d},1290:function(e,t,n){var r=n(1291);"string"==typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;n(593)(r,a);r.locals&&(e.exports=r.locals)},1291:function(e,t,n){t=e.exports=n(592)(void 0),t.push([e.i,".sidebar{background-color:#fff}",""])},1292:function(e,t,n){"use strict";function TopHeader(){return a.default.createElement(o.Segment,{id:"playerHeader"},a.default.createElement(o.Container,null,a.default.createElement(o.Grid,{columns:2},a.default.createElement(o.Grid.Column,null,a.default.createElement(o.Header,{as:"h2"},a.default.createElement(o.Icon,{name:"music",color:"red"}),a.default.createElement(o.Header.Content,null,"Music"))),a.default.createElement(o.Grid.Column,{textAlign:"right"},a.default.createElement(o.Popup,{trigger:a.default.createElement(l.Link,{to:"/lab",style:{color:"black"}},a.default.createElement(o.Icon,{name:"lab",size:"large"})),content:"「实验室」",on:"hover"}),a.default.createElement(o.Popup,{trigger:a.default.createElement(l.Link,{to:"/",style:{color:"black"}},a.default.createElement(o.Icon,{name:"home",size:"large"})),content:"「首页」",on:"hover"})))))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(65),l=n(67);n(1293),t.default=TopHeader},1293:function(e,t,n){var r=n(1294);"string"==typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;n(593)(r,a);r.locals&&(e.exports=r.locals)},1294:function(e,t,n){t=e.exports=n(592)(void 0),t.push([e.i,"body .component-header{position:fixed;top:0;width:100%;height:60px;line-height:60px;padding:1em 2em;z-index:2;background-color:#fff;box-shadow:0 0 .1px #000}",""])},1295:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=n(0),o=_interopRequireDefault(a),l=n(1),i=_interopRequireDefault(l),u=n(66),s=n(65);n(1296);var c=n(1298),d=_interopRequireDefault(c),f=n(597),p=n(598),m=_interopRequireDefault(p),h=function(e){function Control(e){_classCallCheck(this,Control);var t=_possibleConstructorReturn(this,(Control.__proto__||Object.getPrototypeOf(Control)).call(this,e));return t.audio=null,t.task=null,t.handleAudioCanPlay=t.handleAudioCanPlay.bind(t),t.handleToggleMusicList=t.handleToggleMusicList.bind(t),t.handlePlayMusic=t.handlePlayMusic.bind(t),t.handlePauseMusic=t.handlePauseMusic.bind(t),t.handleChangePlayProgress=t.handleChangePlayProgress.bind(t),t.handleChangeVolumeProgress=t.handleChangeVolumeProgress.bind(t),t.handleChangePlayMode=t.handleChangePlayMode.bind(t),t.handleToggleMute=t.handleToggleMute.bind(t),t.handlePlayPreMusic=t.handlePlayPreMusic.bind(t),t.handlePlayNextMusic=t.handlePlayNextMusic.bind(t),t}return _inherits(Control,e),r(Control,[{key:"componentDidMount",value:function(){this.audio||(this.audio=document.getElementById("audio")),this.audio.oncanplay=this.handleAudioCanPlay,this.audio.onerror=this.handlePlayNextMusic,this.audio.onended=this.handlePlayNextMusic}},{key:"shouldComponentUpdate",value:function(e){var t=this,n=this.props,r=n.mute,a=n.volumeProgress,o=n.duration,l=n.play;return e.mute!==r&&this.audio&&(this.audio.volume||0===this.audio.volume)&&(this.audio.volume=e.mute?0:e.volumeProgress),e.volumeProgress!==a&&this.audio&&(this.audio.volume||0===this.audio.volume)&&(this.audio.volume=e.volumeProgress),e!==l&&(e.play?(this.task&&clearInterval(this.task),this.task=setInterval(function(){var e=0===o?0:t.audio.currentTime/o;t.handleChangePlayProgress(e)},500),this.audio.play()):(this.task&&clearInterval(this.task),this.audio.pause())),!0}},{key:"handleAudioCanPlay",value:function(){this.props.dispatch((0,f.initMusicDuration)(this.audio.duration))}},{key:"handleToggleMusicList",value:function(){this.props.dispatch((0,f.toggleMusicList)())}},{key:"handlePlayMusic",value:function(){this.props.dispatch((0,f.playMusic)())}},{key:"handlePauseMusic",value:function(){this.props.dispatch((0,f.pauseMusic)())}},{key:"handleChangePlayProgress",value:function(e){this.audio.currentTime=e*this.audio.duration,this.props.dispatch((0,f.changePlayProgress)(e))}},{key:"handleChangeVolumeProgress",value:function(e){this.props.dispatch((0,f.changeVolumeProgress)(e))}},{key:"handleChangePlayMode",value:function(){this.props.dispatch((0,f.changePlayMode)())}},{key:"handleToggleMute",value:function(){this.props.dispatch((0,f.toggleMute)())}},{key:"handlePlayPreMusic",value:function(){this.props.dispatch((0,f.playPreMusic)())}},{key:"handlePlayNextMusic",value:function(){this.props.dispatch((0,f.playNextMusic)())}},{key:"render",value:function(){var e=this.props,t=e.musicId,n=e.musics,r=e.play,a=e.playProgress,l=e.volumeProgress,i=e.mode,u=e.mute,c=e.duration,f=m.default.get(t,n),p="单曲循环";return"random"===i?p="随机播放":"repeat"===i&&(p="列表循环"),o.default.createElement("div",{id:"playerControl",className:"Control"},o.default.createElement(s.Container,null,o.default.createElement(s.Grid,null,o.default.createElement(s.Grid.Row,{only:"computer"},o.default.createElement(s.Grid.Column,{width:2},o.default.createElement(s.Button.Group,null,o.default.createElement(s.Button,{icon:"step backward",color:"red",onClick:this.handlePlayPreMusic}),r?o.default.createElement(s.Button,{icon:"pause",color:"red",onClick:this.handlePauseMusic}):o.default.createElement(s.Button,{icon:"play",color:"red",onClick:this.handlePlayMusic}),o.default.createElement(s.Button,{icon:"step forward",color:"red",onClick:this.handlePlayNextMusic}))),o.default.createElement(s.Grid.Column,{width:8},o.default.createElement(d.default,{percent:a,onChangeProgress:this.handleChangePlayProgress})),o.default.createElement(s.Grid.Column,{width:2,style:{marginLeft:"-1.5rem"}},m.default.parseTime(c*a),"/",m.default.parseTime(c)),o.default.createElement(s.Grid.Column,{width:2,style:{marginLeft:"-3rem"}},o.default.createElement("div",{style:{float:"left"}},o.default.createElement(s.Icon,{name:u?"volume off":"volume down",size:"large",onClick:this.handleToggleMute})),o.default.createElement(d.default,{offsetX:"20%",percent:u?0:l,onChangeProgress:this.handleChangeVolumeProgress})),o.default.createElement(s.Grid.Column,{width:2,style:{marginLeft:"3rem"}},o.default.createElement(s.Button.Group,{floated:"right",basic:!0},o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{icon:i,onClick:this.handleChangePlayMode}),on:"hover",content:p,position:"top center",size:"mini"}),o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{content:"词",floated:"right"}),on:"hover",content:"歌词",position:"top center",size:"mini"}),o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{icon:"list",floated:"left",onClick:this.handleToggleMusicList}),on:"hover",content:"播放列表",position:"top center",size:"mini"})))),o.default.createElement(s.Grid.Row,{only:"tablet"},o.default.createElement(s.Grid.Column,{width:3},o.default.createElement(s.Button.Group,null,o.default.createElement(s.Button,{icon:"step backward",color:"red",onClick:this.handlePlayPreMusic}),r?o.default.createElement(s.Button,{icon:"pause",color:"red",onClick:this.handlePauseMusic}):o.default.createElement(s.Button,{icon:"play",color:"red",onClick:this.handlePlayMusic}),o.default.createElement(s.Button,{icon:"step forward",color:"red",onClick:this.handlePlayNextMusic}))),o.default.createElement(s.Grid.Column,{width:8},o.default.createElement(d.default,{percent:a,onChangeProgress:this.handleChangePlayProgress})),o.default.createElement(s.Grid.Column,{width:2,style:{marginLeft:"-1.5rem"}},"12:00/12:00"),o.default.createElement(s.Grid.Column,{width:2,textAlign:"right"},o.default.createElement(s.Button.Group,{basic:!0},o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{icon:i,onClick:this.handleChangePlayMode}),on:"hover",content:p,position:"top center",size:"mini"}),o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{content:"词",floated:"right"}),on:"hover",content:"歌词",position:"top center",size:"mini"}),o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{icon:"list",floated:"left",onClick:this.handleToggleMusicList}),on:"hover",content:"播放列表",position:"top center",size:"mini"})))),o.default.createElement(s.Grid.Row,{only:"mobile",style:{margin:"-.2rem 0 -1.8rem 0"}},o.default.createElement(s.Grid.Column,{width:12},o.default.createElement(d.default,{percent:a,onChangeProgress:this.handleChangePlayProgress})),o.default.createElement(s.Grid.Column,{width:4,style:{marginLeft:"-1.5rem"}},"12:00/12:00")),o.default.createElement(s.Grid.Row,{columns:3,only:"mobile"},o.default.createElement(s.Grid.Column,{width:3},o.default.createElement(s.Button.Group,{floated:"left",basic:!0},o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{icon:i,onClick:this.handleChangePlayMode}),on:"hover",content:p,position:"top center",size:"mini"}))),o.default.createElement(s.Grid.Column,{width:10,textAlign:"center"},o.default.createElement(s.Button.Group,null,o.default.createElement(s.Button,{icon:"step backward",color:"red",onClick:this.handlePlayPreMusic}),r?o.default.createElement(s.Button,{icon:"pause",color:"red",onClick:this.handlePauseMusic}):o.default.createElement(s.Button,{icon:"play",color:"red",onClick:this.handlePlayMusic}),o.default.createElement(s.Button,{icon:"step forward",color:"red",onClick:this.handlePlayNextMusic}))),o.default.createElement(s.Grid.Column,{width:3,textAlign:"right"},o.default.createElement(s.Button.Group,{basic:!0},o.default.createElement(s.Popup,{trigger:o.default.createElement(s.Button,{icon:"list",floated:"left",onClick:this.handleToggleMusicList}),on:"hover",content:"播放列表",position:"top center",size:"mini"})))))),o.default.createElement("audio",{id:"audio",src:f?f.src:"",loop:"lock"===i&&"loop"},o.default.createElement("track",{kind:"captions"})))}}]),Control}(a.Component);h.propTypes={dispatch:i.default.func.isRequired,play:i.default.bool.isRequired,playProgress:i.default.number.isRequired,volumeProgress:i.default.number.isRequired,mode:i.default.string.isRequired,mute:i.default.bool.isRequired,duration:i.default.number.isRequired,musicId:i.default.string.isRequired,musics:i.default.arrayOf(i.default.shape()).isRequired};var g=function(e){return{play:e.Player.play,playProgress:e.Player.playProgress,volumeProgress:e.Player.volumeProgress,mode:e.Player.mode,mute:e.Player.mute,duration:e.Player.duration,musicId:e.Player.musicId,musics:e.Player.musics}};t.default=(0,u.connect)(g)(h)},1296:function(e,t,n){var r=n(1297);"string"==typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;n(593)(r,a);r.locals&&(e.exports=r.locals)},1297:function(e,t,n){t=e.exports=n(592)(void 0),t.push([e.i,".Control{position:fixed;width:100%;height:60px;bottom:0;box-shadow:0 0 .1px #000;background-color:#fff;padding:.7em 3%;line-height:32px}.Control .progress-time{display:inline-block;margin-right:2%}.Control i:hover{cursor:pointer}@media screen and (max-width:775px){.Control{height:100px}}",""])},1298:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=n(0),o=_interopRequireDefault(a),l=n(1),i=_interopRequireDefault(l),u=function(e){function ProgressBar(e){_classCallCheck(this,ProgressBar);var t=_possibleConstructorReturn(this,(ProgressBar.__proto__||Object.getPrototypeOf(ProgressBar)).call(this,e));return t.handleChangeProgress=t.handleChangeProgress.bind(t),t}return _inherits(ProgressBar,e),r(ProgressBar,[{key:"handleChangeProgress",value:function(e){var t=(e.clientX-this.progress.getBoundingClientRect().left)/this.progress.clientWidth;this.props.onChangeProgress(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.offsetX,r=t.percent,a={marginTop:"15px",marginLeft:n,cursor:"pointer"};return o.default.createElement("div",{className:"ui red tiny progress","data-percent":100*r,style:a,ref:function(t){e.progress=t},onClick:this.handleChangeProgress},o.default.createElement("div",{className:"bar",style:{width:100*r+"%",minWidth:0}}))}}]),ProgressBar}(a.PureComponent);u.propTypes={offsetX:i.default.string,percent:i.default.number,onChangeProgress:i.default.func},u.defaultProps={offsetX:"0",percent:0,onChangeProgress:function(){}},t.default=u},1299:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=n(0),o=_interopRequireDefault(a),l=n(1),i=_interopRequireDefault(l),u=n(66),s=n(65),c=n(1300),d=_interopRequireDefault(c),f=n(1304),p=_interopRequireDefault(f),m=n(1305),h=_interopRequireDefault(m),g=n(597),y=n(598),P=_interopRequireDefault(y),C=function(e){function Content(e){_classCallCheck(this,Content);var t=_possibleConstructorReturn(this,(Content.__proto__||Object.getPrototypeOf(Content)).call(this,e));return t.handleClickItem=t.handleClickItem.bind(t),t}return _inherits(Content,e),r(Content,[{key:"componentDidMount",value:function(){var e=document.body.clientHeight,t=document.getElementById("playerHeader").offsetHeight,n=document.getElementById("playerControl").offsetHeight,r=e-t-n;document.getElementById("playerContent").style.height=r+"px"}},{key:"handleClickItem",value:function(e){this.props.dispatch((0,g.playSpecialMusic)(e))}},{key:"render",value:function(){var e=this.props,t=e.slideOpen,n=e.musicId,r=e.musics,a=e.play,l=P.default.get(n,r);return o.default.createElement("div",{id:"playerContent",style:{marginTop:"-1rem"}},o.default.createElement(s.Sidebar.Pushable,null,o.default.createElement(s.Sidebar,{animation:"overlay",visible:t,width:"wide",direction:"right"},o.default.createElement(h.default,{musicId:n,musics:r,onClickItem:this.handleClickItem})),o.default.createElement(s.Sidebar.Pusher,null,o.default.createElement(s.Grid,{textAlign:"center"},o.default.createElement(s.Grid.Row,null,o.default.createElement(s.Grid.Column,null,o.default.createElement(d.default,{src:l.cover,play:a}))),o.default.createElement(s.Grid.Row,null,o.default.createElement(s.Grid.Column,null,o.default.createElement(p.default,{music:l})))))))}}]),Content}(a.Component);C.propTypes={dispatch:i.default.func.isRequired,slideOpen:i.default.bool.isRequired,musicId:i.default.string.isRequired,musics:i.default.arrayOf(i.default.shape()),play:i.default.bool.isRequired},C.defaultProps={musics:[]};var v=function(e){return{slideOpen:e.Player.slideOpen,musicId:e.Player.musicId,musics:e.Player.musics,play:e.Player.play}};t.default=(0,u.connect)(v)(C)},1300:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=_interopRequireDefault(r),o=n(1),l=_interopRequireDefault(o),i=n(65),u=n(1301),s=_interopRequireDefault(u);n(1302);var c=function(e){var t=e.src,n=e.play;return a.default.createElement(i.Image,{className:n?"cover":"cover pause",src:t||s.default,shape:"circular"})};c.propTypes={src:l.default.string,play:l.default.bool.isRequired},c.defaultProps={src:""},t.default=c},1301:function(e,t,n){e.exports=n.p+"e09d8e5b3fd46196fc1f09bcb3a30bda.jpeg"},1302:function(e,t,n){var r=n(1303);"string"==typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;n(593)(r,a);r.locals&&(e.exports=r.locals)},1303:function(e,t,n){t=e.exports=n(592)(void 0),t.push([e.i,"img.cover{width:280px;height:280px;margin:.5rem auto;margin-top:4rem;animation:rotate 30s linear infinite}img.pause{animation-play-state:paused;-webkit-animation-play-state:paused}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""])},1304:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=_interopRequireDefault(r),o=n(1),l=_interopRequireDefault(o),i=n(65),u=function(e){var t=e.music;return a.default.createElement(i.Container,{textAlign:"center"},a.default.createElement(i.Header,{as:"h3",content:t.song}),t.singer)};u.propTypes={music:l.default.shape()},u.defaultProps={music:{id:"",song:"未知歌曲",singer:"未知歌手"}},t.default=u},1305:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=_interopRequireDefault(r),o=n(1),l=_interopRequireDefault(o),i=n(65),u=n(1306),s=_interopRequireDefault(u);n(1307);var c=function(e){var t=e.musicId,n=e.musics,r=e.onClickItem,o=n.map(function(e){var n=e.id===t;return a.default.createElement(s.default,{key:e.id,current:n,music:e,onClickItem:r})});return a.default.createElement("div",{className:"musiclist-container"},a.default.createElement(i.Header,{dividing:!0},a.default.createElement(i.Header.Content,null,a.default.createElement("span",{className:"updateTime"},"歌单列表"))),a.default.createElement(i.List,{divided:!0,relaxed:!0,celled:!0,animated:!0,verticalAlign:"middle"},o))};c.propTypes={musicId:l.default.string.isRequired,musics:l.default.arrayOf(l.default.shape()),onClickItem:l.default.func.isRequired},c.defaultProps={musics:[]},t.default=c},1306:function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=_interopRequireDefault(r),o=n(1),l=_interopRequireDefault(o),i=n(65),u=function(e){var t=e.current,n=e.music,r=e.onClickItem,o=function(){return r(n.id)};return a.default.createElement(i.List.Item,{className:t?"current":"",onClick:o},a.default.createElement(i.List.Content,{as:"span"},n.song),a.default.createElement(i.List.Content,{floated:"right"},n.singer))};u.propTypes={current:l.default.bool.isRequired,music:l.default.shape().isRequired,onClickItem:l.default.func.isRequired},t.default=u},1307:function(e,t,n){var r=n(1308);"string"==typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;n(593)(r,a);r.locals&&(e.exports=r.locals)},1308:function(e,t,n){t=e.exports=n(592)(void 0),t.push([e.i,".musiclist-container{padding:1em}.musiclist-container .updateTime{font-size:12px;color:gray;text-align:right;font-weight:400}.musiclist-container .item{cursor:pointer}.musiclist-container .current{box-shadow:-4px 0 0 red}.musiclist-container .refreshBtn{cursor:pointer;font-size:.6em;text-align:right}",""])}});